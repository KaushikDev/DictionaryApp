<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dictionary App</title>
 <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css" />
    <link href='https://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Rancho&effect=shadow-multiple|3d-float" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/daneden/animate.css/master/animate.min.css">
	<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>

</head>
<body style="background-size:100% 100%;background-color:white;font-family:Rancho">
<style>
.margin{
padding:5px;
border-style:transparent;
border-width:1px;
border-color:gray;
margin-top:10px;
margin-bottom:10px;
margin-left:auto;
margin-right:auto;
height:auto;
width:auto;
margin: 0 auto;
font-size:35px;
font-family:Rancho;
color: black;
}

.curved{
border-radius:5px;
}

h1{
font-family:Rancho;
color:black;
}

.btn, input{
font-size:30px;
}
</style>
<div class="container-fluid">

<div class="row text-center" style="margin-top:0px;">
<div class="col-xs-12">
<h1>Dictionary App</h1>
</div>
</div>

<div class="row text-center" style="margin-top:10px;">
<div class="col-xs-12">
<input type="text" class="curved" id="searchBox" style="color:black; width:250px;border-radius:5px;" placeholder='Enter your word here..'>
<button class="btn curved" id="searchBtn" style="color:black; border-radius:5px;background:transparent"><i class="fa fa-search" aria-hidden="true"></i></button>

</div>
</div>

<div id="displayArea" class="row margin" >
</div>


<div class="row text-center" style="margin-top:10px;font-size:25px;">
<div class="col-xs-12">
<p><i class="fa fa-copyright" aria-hidden="true"></i>KaushikCodeArts : App by Piyush Kaushik</p>
</div>
</div>
  <div class="row text-center">
                <div class="col-xs-12">
				<a id="fb" class="btn btn-default text-center" style="background-color:transparent;border-color:transparent;" href="https://www.facebook.com/sharer/sharer.php?u=https://KaushikDev.github.io/DictionaryApp" target="_blank"><i class="fa fa-facebook" aria-hidden="true" style="color:blue;font-size:30px;font-weight:bold;"></i></a>
                <a id="whatsapp" class="btn btn-default text-center" style="background-color:transparent;border-color:transparent;" href="whatsapp://send?text=https://KaushikDev.github.io/DictionaryApp"><i class="fa fa-whatsapp" aria-hidden="true" style="color:Green;font-size:30px;font-weight:bold;"></i></a>
        		<a id="tweet" class="btn btn-default text-center" style="background-color:transparent;border-color:transparent;" href="https://twitter.com/home?status=https://KaushikDev.github.io/DictionaryApp" target="_blank"><i class="fa fa-twitter" aria-hidden="true" style="color:skyblue;font-size:30px;font-weight:bold;"></i></a>
                </div>
        </div>
</div>
<script type="text/javascript">

var ID;
var headWord;
var baseUrlPearsonAPI;
var completeUrl;
var count;
var para;
var i;
var result;
var headword;
var soundSource;


var base = "https://api.pearson.com";

//========================================================================
 $("document").ready(function(){
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+++++++++++Function which decides what happens on searchBtn click. 
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
   $("#searchBtn").on("click", function(){
     
	clean();
	//$( "#displayArea" ).empty();
	headWord = document.getElementById("searchBox").value;
	console.log("The value in the box is : " + headWord);
	
	if(headWord!=""){
	
	
		
	baseUrlPearsonAPI=  base + "/v2/dictionaries/ldoce5/entries?headword=";
    completeUrl = baseUrlPearsonAPI + headWord + "&apikey=12nCr8Cz5m0wkpTgi3Pkh18Cd596Slga";
	//document.getElementById("clearBtn").disabled = false;
    console.log("The complete request URL is : " + completeUrl);
   
    
   $.getJSON(completeUrl, function(data){
     
	count = data.results.length;
	console.log("Number of results nodes are : "+ count);
//	console.log("the data obtained from api is : "+ JSON.stringify(data));
	if(count!=0){
	
     try{
	soundSource = ""+base+(data.results[0].pronunciations[0].audio[0].url);
    $("#displayArea").append("<div class='col-xs-12'><button class='btn' style='height:40px;width:height;border-radius:50%;' onclick='pronunciation(soundSource)'><i class='fa fa-volume-up' aria-hidden='true'></i></button></div>");
	}
	catch(e){
	 $("#displayArea").append("<div class='col-xs-12' style='color:red'><p><i class='fa fa-volume-off' aria-hidden='true'></i> Sound not available</p></div>");
	}
	
	try{
	$("#displayArea").append("<div class='col-xs-12'><p><b><i>Meaning : </i></b>"+data.results[0].senses[0].definition[0]+" </p></div>");
	}
	catch(e){
	$("#displayArea").append("<div class='col-xs-12'><p><b><i>Meaning : </i></b>"+data.results[1].senses[0].definition[0]+" </p></div>");
	}
	
	
	if(count>=2){
	$("#displayArea").append("<div class='col-xs-12'><p><b><u>Related words and their meanings  :   </u></b></p></div>");
	for(i=1;i<count;i++){
	try{
	result = data.results[i].senses[0].definition[0];
	headword = data.results[i].headword;
	$("#displayArea").append("<div class='col-xs-12'><p><b><i>"+headword+". </i></b>"+result+" </p></div>");
	}
	catch(e){
	console.log(e);
	}
	}}
	
	
}
else 
	$("#displayArea").append("<div class='col-xs-12 text-center'><p><b>Oops!! No meaning found for this word </b></p></div>");
   
 });
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//document.getElementById("searchBtn").disabled = true; 
 }
 else
 $("#displayArea").append("<div class='col-xs-12 text-center'><p><b>Enter a word to find its meaning!!</b></p></div>");
 });


//=======================================================================
});


function clean(){
$( "#displayArea" ).empty();
}

function pronunciation(src){
var audio = new Audio(src);
audio.play();
}

</script>
</body>

</html>
